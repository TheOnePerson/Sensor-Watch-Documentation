<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Sensor Watch: Real-Time Clock</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Sensor Watch<span id="projectnumber">&#160;0.0.0</span>
   </div>
   <div id="projectbrief">A board replacement for the classic Casio F-91W wristwatch, powered by a Microchip SAM L22 microcontroller.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">Real-Time Clock</div></div>
</div><!--header-->
<div class="contents">

<p>This section covers functions related to the SAM L22's real-time clock peripheral, including date, time and alarm functions.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga9dc0424ce913f833dd9bd20e70257242"><td class="memItemLeft" align="right" valign="top"><a id="ga9dc0424ce913f833dd9bd20e70257242" name="ga9dc0424ce913f833dd9bd20e70257242"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>_watch_rtc_is_enabled</b> ()</td></tr>
<tr class="memdesc:ga9dc0424ce913f833dd9bd20e70257242"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called by main.c to check if the RTC is enabled. You may call this function, but outside of app_init, it sbould always return true. <br /></td></tr>
<tr class="separator:ga9dc0424ce913f833dd9bd20e70257242"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacdb972e0c12f8e70e6c430118ea986f8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__rtc.html#gacdb972e0c12f8e70e6c430118ea986f8">watch_set_date_time</a> (struct calendar_date_time date_time)</td></tr>
<tr class="memdesc:gacdb972e0c12f8e70e6c430118ea986f8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the system date and time.  <a href="group__rtc.html#gacdb972e0c12f8e70e6c430118ea986f8">More...</a><br /></td></tr>
<tr class="separator:gacdb972e0c12f8e70e6c430118ea986f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa17f684d144858f20a7f9c080139b27f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__rtc.html#gaa17f684d144858f20a7f9c080139b27f">watch_get_date_time</a> (struct calendar_date_time *date_time)</td></tr>
<tr class="memdesc:gaa17f684d144858f20a7f9c080139b27f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the system date and time in the provided struct.  <a href="group__rtc.html#gaa17f684d144858f20a7f9c080139b27f">More...</a><br /></td></tr>
<tr class="separator:gaa17f684d144858f20a7f9c080139b27f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga63fe17d82b7d1a0392822bca448fafd3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__rtc.html#ga63fe17d82b7d1a0392822bca448fafd3">watch_register_tick_callback</a> (ext_irq_cb_t callback)</td></tr>
<tr class="memdesc:ga63fe17d82b7d1a0392822bca448fafd3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Registers a "tick" callback that will be called once per second.  <a href="group__rtc.html#ga63fe17d82b7d1a0392822bca448fafd3">More...</a><br /></td></tr>
<tr class="separator:ga63fe17d82b7d1a0392822bca448fafd3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p >This section covers functions related to the SAM L22's real-time clock peripheral, including date, time and alarm functions. </p>
<p >The real-time clock is the only peripheral that main.c enables for you. It is the cornerstone of low power operation on the watch, and it is required for several key functions that we assume will be available, namely the wake from BACKUP mode and the callback on the ALARM button. It is also required for the operation of the 1 Hz tick interrupt, which you will most likely use to wake from STANDBY mode. </p>
<h2 class="groupheader">Function Documentation</h2>
<a id="gaa17f684d144858f20a7f9c080139b27f" name="gaa17f684d144858f20a7f9c080139b27f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa17f684d144858f20a7f9c080139b27f">&#9670;&nbsp;</a></span>watch_get_date_time()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void watch_get_date_time </td>
          <td>(</td>
          <td class="paramtype">struct calendar_date_time *&#160;</td>
          <td class="paramname"><em>date_time</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the system date and time in the provided struct. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">date_time</td><td>A pointer to a calendar_date_time struct. It will be populated with the correct date and time on return. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga63fe17d82b7d1a0392822bca448fafd3" name="ga63fe17d82b7d1a0392822bca448fafd3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga63fe17d82b7d1a0392822bca448fafd3">&#9670;&nbsp;</a></span>watch_register_tick_callback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void watch_register_tick_callback </td>
          <td>(</td>
          <td class="paramtype">ext_irq_cb_t&#160;</td>
          <td class="paramname"><em>callback</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Registers a "tick" callback that will be called once per second. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">callback</td><td>The function you wish to have called when the clock ticks. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gacdb972e0c12f8e70e6c430118ea986f8" name="gacdb972e0c12f8e70e6c430118ea986f8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gacdb972e0c12f8e70e6c430118ea986f8">&#9670;&nbsp;</a></span>watch_set_date_time()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void watch_set_date_time </td>
          <td>(</td>
          <td class="paramtype">struct calendar_date_time&#160;</td>
          <td class="paramname"><em>date_time</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the system date and time. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">date_time</td><td>A struct representing the date and time you wish to set. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.2
</small></address>
</body>
</html>
